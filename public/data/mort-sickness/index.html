<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Mort Sickness Data</title>
<script src="https://code.jquery.com/jquery-1.12.2.min.js"></script>
<script src="scripts/jquery-1.11.1.min.js"></script>
<script src="jqwidgets/jqxcore.js"></script>
<script src="jqwidgets/jqxdata.js"></script>
<script src="jqwidgets/jqxdatatable.js"></script>
<script src="jqwidgets/jqxscrollbar.js"></script>
<script src="jqwidgets/jqxbuttons.js"></script>
<script src="jqwidgets/jqxgrid.js"></script>
<link type="text/css" rel="stylesheet" href="jqwidgets/styles/jqx.orange.css"/>

</head>
<body>
<div id=title style="font-family: Verdana" align="center">
<h1>MORT SICKNESS DATA</h1>
</div>
<div id=sick style="font-family: Verdana" align="center">
<table id="sickness">
<tr>
<th align="center">Region</th>
<th align="center">Sickness</th>
<th align="center">Year</th>
<th align="center">MortalityInMen</th>
<th align="center">MortalityInWomen</th>
<th align="center">TotalMortality</th>
</tr>
</table>
</div>
<script type="text/javascript">
var service = '../../api/v1/';
$(document).ready(function(){
	jQuery.support.cors=true;
	$.ajax({
		type:"GET",
		url:service + 'mort-sickness?apikey=patriR',
		data:"{}",
		contentType:"application/json; charset=utf-8",
		dataType:"json",
		cache:false,
		success: function(data){
			var trHTML = '';
			$.each(data, function(i,item){
				trHTML += '<tr><td>' + data[i].region + '</td><td>' + data[i].sickness + '</td><td>' + data[i].year + '</td><td>' + data[i].mortalityInMen + '</td><td>' + data[i].mortalityInWomen + '</td><td>' + data[i].totalMortality + '</td></tr>';
			});
			$('#sickness').append(trHTML);
			$('#sickness').jqxDataTable({
				altRows: true,
				theme: 'orange',
				columns: [
                  { text: 'Region', dataField: 'Region', width: 220},
                  { text: 'Sickness', dataField: 'Sickness', width: 220},
                  { text: 'Year', dataField: 'Year', width: 220},
                  { text: 'MortalityInMen', dataField: 'MortalityInMen',width: 220},
                  { text: 'MortalityInWomen', dataField: 'MortalityInWomen', width: 220},
                  { text: 'TotalMortality', dataField: 'TotalMortality', width: 220}
                ]
			})
		},
		error: function(msg){
			alert(msg.responseText);
		}
	})
});
</script>
</br>
<a href="/about/"><input type="button" value="Previous" id="miBoton"/></a>
</body>
</html>
